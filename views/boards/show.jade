extends ../layout

block body 
  script
    function random_fill(board){
      _.each(board.cells, function(columns) {
        _.each(columns, function(cell) {
          random = ['white', 'black', null][Math.round(Math.random() * 3)]
          cell.set('holds', random);
        });
      });
    }
    $(function() {
      var board = new weiqi.Board(!{board_json});

      var board_view = new weiqi.BoardView({model: board, el: $('#app .board')});
      board_view.player_color = "#{player_color}";
    });

  #app
    h1 #{player_color}
    .board

